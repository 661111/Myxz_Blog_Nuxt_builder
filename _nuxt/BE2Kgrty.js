import{d as E,m as k,o as S,a8 as C,c as l,e as i,f as t,F as u,r as g,N as I,t as c,g as y,B as A}from"./BsJJJeWa.js";const v=[{name:"分站",Item:[{name:"EdgeOne镜像",image:"https://sourceimage.s3.bitiful.net/myxz.avif",link:"https://blog-v3.myxz.top",desc:"",service:[{name:"EdgeOne",image:"",link:""}]}]},{name:"服务",Item:[{name:"说说",image:"https://sourceimage.s3.bitiful.net/myxz.avif",link:"https://blog-v3.myxz.top",desc:"",service:[{name:"EdgeOne",image:"",link:""}]}]}],N={class:"tabs-container"},z={class:"tabs"},D=["onClick"],O={class:"sitelink-list"},w=["src"],R={class:"header"},L={class:"title"},B=["href"],F=["href"],M=["alt","src"],$={class:"badge-text"},H={class:"description"},J={class:"rss"},U=["href"],b="statusTagsData",X=1800*1e3,Y="https://agent.service.myxz.top/result.json",j=E({__name:"podcast",setup(q){const d=k(0);k([]);function f(n){const s=n.link_status;document.querySelectorAll(".title").forEach(e=>{if(!(e instanceof HTMLAnchorElement)||!e.href)return;const o=e.href.replace(/\/$/,""),a=s.find(T=>T.link.replace(/\/$/,"")===o);if(!a)return;const _=e.querySelector(".status-tag");_&&_.remove();let p="未知",r="status-tag status-tag-red";a.latency!==-1&&(p=`${a.latency.toFixed(2)} s`,a.latency<=2?r="status-tag status-tag-green":a.latency<=5?r="status-tag status-tag-light-yellow":a.latency<=10&&(r="status-tag status-tag-dark-yellow"));const m=document.createElement("div");m.className=r,m.textContent=p,e.style.position="relative",e.appendChild(m)})}function h(n=0){fetch(Y).then(e=>e.json()).then(e=>{f(e);const o={data:e,timestamp:Date.now()};localStorage.setItem(b,JSON.stringify(o))}).catch(e=>{console.error("获取状态数据失败:",e),n<3&&setTimeout(()=>h(n+1),3e3)})}function x(){const n=localStorage.getItem(b);if(n)try{const{data:s,timestamp:e}=JSON.parse(n);Date.now()-e<X&&f(s)}catch(s){console.error("解析缓存数据失败",s)}h()}return S(async()=>{await fetchFriendLinks(),C(()=>{setTimeout(x,0)})}),(n,s)=>(i(),l(u,null,[s[2]||(s[2]=t("div",{class:"feed-label"},[t("h2",null," 站点详情 ")],-1)),t("div",N,[t("div",z,[(i(!0),l(u,null,g(y(v),(e,o)=>(i(),l("button",{key:e.name,onClick:a=>d.value=o,class:I({active:d.value===o})},c(e.name),11,D))),128))]),t("div",O,[(i(!0),l(u,null,g(y(v)[d.value].Item,(e,o)=>(i(),l("div",{class:"sitelink-item",key:o},[t("img",{width:"150",height:"150",alt:"Syntax",class:"cover",src:e.image},null,8,w),t("main",null,[t("header",R,[t("div",L,[t("a",{href:e.link,rel:"noopener noreferrer",target:"_blank"},c(e.name),9,B),s[0]||(s[0]=t("span",{class:"iconify i-ph:link-duotone","aria-hidden":"true",style:{"font-size":"0.8em"}},null,-1))])]),t("section",null,[(i(!0),l(u,null,g(e.service,a=>(i(),l("div",{class:"badges",key:a.name},[t("a",{href:a.link,rel:"noopener noreferrer",target:"_blank",class:"badge badge-img"},[t("img",{alt:a.name,class:"badge-icon",src:a.image},null,8,M),t("span",$,c(a.name),1)],8,F)]))),128)),t("p",H,c(e.desc),1)]),t("footer",null,[t("h5",J,[s[1]||(s[1]=t("span",{class:"iconify i-ph:rss-fill","aria-hidden":"true"},null,-1)),t("a",{href:e.link,rel:"noopener noreferrer",target:"_blank"},c(e.link),9,U)])])])]))),128))])])],64))}}),P=A(j,[["__scopeId","data-v-c7a60821"]]);export{P as default};
